(this["webpackJsonpreact-todolist"]=this["webpackJsonpreact-todolist"]||[]).push([[0],{21:function(e,t,n){e.exports=n(39)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),c=n.n(r),i=n(1),u=n(2),l=n(4),s=n(3),d=(n(26),n(27),function(){return o.a.createElement("div",{className:"logo"},"TodoManager")});n(28);var h,m,f=function(e){var t=e.todolist;return o.a.createElement("span",null,"Todos: ",t.length)},p=n(11),v={baseUrl:"http://localhost:5000",todosPath:"todos"};h=v.baseUrl,m=v.todosPath;var b=function(){return fetch([h,m].join("/")).then((function(e){return e.json()}))},E=function(e){return fetch([h,m].join("/"),{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()}))},O=function(e){return fetch([h,m,e].join("/"),{method:"DELETE"}).then((function(e){return e.json()}))},j=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:"TodoData",todolist:[]},e.HandleAddTodo=function(t){E(t).then((function(t){e.setState({todolist:[t].concat(Object(p.a)(e.state.todolist))})}))},e.handleRemoveTodo=function(t){O(t).then((function(n){e.setState({todolist:e.state.todolist.filter((function(e){return e.id!==t}))})})).catch((function(e){console.warn(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){e.setState({todolist:t})}))}},{key:"render",value:function(){var e=null,t=null,n=this.props,a=n.render,r=n.children,c=n.renderHeader;return c&&(e=c(this.state.title)),a?t=a(this.handleRemoveTodo,this.HandleAddTodo,this.state.todolist):r&&(t=r(this.handleRemoveTodo,this.HandleAddTodo,this.state.todolist)),o.a.createElement(o.a.Fragment,null,e,t)}}]),n}(o.a.Component),y=n(19),g=[];var C=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.children,a=e.exact,r=void 0!==a&&a,c=e.component,i=e.render;if(function(e,t){var n=window.location.pathname;return t?n===e:n.includes(e)}(t,r)){if(c)return o.a.createElement(c,{},null);if(i)return i();if(n)return n}return null}},{key:"componentWillUnmount",value:function(){console.log("unmount"),this.unRegister()}},{key:"componentDidMount",value:function(){this.unRegister=function(e){g.push(e);var t=function(){e.forceUpdate()};return window.addEventListener("popstate",t),function(){Object(y.a)("MyRouteInstances"),g=g.filter((function(t){return t!==e})),window.removeEventListener(t)}}(this)}}]),n}(o.a.Component),T=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleClicked=function(t){t.preventDefault(),window.history.pushState({},"",e.props.to),g.forEach((function(e){e.forceUpdate()}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.to,n=e.children;return o.a.createElement("a",{href:t,onClick:this.handleClicked},n)}}]),n}(o.a.Component),k=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){this.props.handleChangeActivePage;return o.a.createElement("div",{className:"header-list"},o.a.createElement(d,null),o.a.createElement("nav",{className:"nav"},o.a.createElement(T,{to:"/dashboard"},"Dashboard"),o.a.createElement(T,{to:"/todolist"},"TodoList"),o.a.createElement(T,{to:"/home"},"HOME"),o.a.createElement(T,{to:"/about"},"About")),o.a.createElement(j,null,(function(e,t,n){return o.a.createElement(f,{todolist:n})})))}}]),n}(o.a.Component),A=(n(29),function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.handleChangeActivePage;return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:"header"},o.a.createElement(k,{handleChangeActivePage:n})),o.a.createElement("main",{className:"content"},t))}}]),n}(o.a.Component));n(30),n(31);var N=function(e){var t=e.todo,n=e.removeTodo;return o.a.createElement("li",{className:"todolist__content-item"},o.a.createElement("span",null,t.title),o.a.createElement("button",{id:t.id,className:"btn-remove",onClick:function(){return n(t.id)}},"X"))},w=function e(t,n,a,o){Object(i.a)(this,e),this.userId=t,this.id=o,this.title=n,this.completed=a},x=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={inputText:""},e.handleInputOnChange=function(t){e.setState({inputText:t.target.value})},e.handleInputKeyUp=function(t){if("Enter"===t.key){var n=e.state.inputText,a=new w(1,n,!1);(0,e.props.HandleAddTodo)(a),e.setState({inputText:""})}},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.todolist,n=e.handleRemoveTodo;return o.a.createElement("section",{className:"todolist"},o.a.createElement("header",{className:"todolist__header"},o.a.createElement("h4",{className:"heading"},"TodoList")),o.a.createElement("input",{type:"text",className:"todolist__input",placeholder:"What are you going to do?",onChange:this.handleInputOnChange,onKeyUp:this.handleInputKeyUp,value:this.state.inputText}),o.a.createElement("ul",{className:"todolist__content"},t.map((function(e){return o.a.createElement(N,{key:e.id,todo:e,removeTodo:function(){return n(e.id)}})}))))}}]),n}(o.a.Component),P=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.todolist,t=e.length,n=e.filter((function(e){return!0===e.completed})).length;return o.a.createElement("section",null,o.a.createElement("h1",null," TotalTodosCount:",t),o.a.createElement("h1",null," TotalCompleted:",n))}}]),n}(o.a.Component),R=n(13),_=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={activePage:"TodoList"},e.handleChangeActivePage=function(t){e.setState({activePage:t})},e}return Object(u.a)(n,[{key:"render",value:function(){switch(this.state.activePage){case"Dashboard":o.a.createElement(j,{renderHeader:function(e){return o.a.createElement("header",null,e)},render:function(e,t,n){return o.a.createElement(P,{todolist:n})}});break;case"TodoList":o.a.createElement(j,null,(function(e,t,n){return o.a.createElement(x,{todolist:n,handleRemoveTodo:e,HandleAddTodo:t})}))}return o.a.createElement(R.a,null,o.a.createElement(A,{handleChangeActivePage:this.handleChangeActivePage},o.a.createElement(C,{exact:!0,path:"/todolist"},o.a.createElement(j,null,(function(e,t,n){return o.a.createElement(x,{todolist:n,handleRemoveTodo:e,HandleAddTodo:t})}))),o.a.createElement(C,{exact:!0,path:"/dashboard"},o.a.createElement(j,{renderHeader:function(e){return o.a.createElement("header",null,e)},render:function(e,t,n){return o.a.createElement(P,{todolist:n})}})),o.a.createElement(C,{exact:!0,path:"/home",component:I}),o.a.createElement(C,{exact:!0,path:"/about",render:function(){return o.a.createElement(H,null)}})))}}]),n}(o.a.Component);function I(){return o.a.createElement("h1",null,"HOME")}function H(){return o.a.createElement("h1",null,"About")}n(37);var S=n(6),D=(n(38),{increment:function(){return{type:"INCREMENT"}},decrement:function(){return{type:"DECREMENT"}},incrementDelay:function(){return function(e){setTimeout((function(){e(D.increment())}),1e3)}}}),M={counter:100,title:"Counter"};!function(e){var t=[],n=e(void 0,{type:"___INIT___"}),a=function(){return n}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return Object(S.a)(Object(S.a)({},e),{},{counter:e.counter+1});case"DECREMENT":return Object(S.a)(Object(S.a)({},e),{},{counter:e.counter-1});default:return e}}));var U,L,F=o.a.createContext(null),J=(o.a.Component,o.a.createContext("")),K=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleIncreament=function(){alert("CHANGE!!!"),e.props.increment()},e}return Object(u.a)(n,[{key:"render",value:function(){console.log("props from connect",this.props);var e=this.props.counter;return o.a.createElement("div",null,o.a.createElement("h1",null,"Counter: ",e),o.a.createElement("button",{onClick:this.handleIncreament},"increment"))}}]),n}(o.a.Component);(U=function(e){return{counter:e.counter,title:e.title,hello:e.hello}},L=function(e){return{increment:function(){return e(D.increment())}}},function(e){var t,n;return n=t=function(t){Object(l.a)(a,t);var n=Object(s.a)(a);function a(e,t){var o;return Object(i.a)(this,a),(o=n.call(this,e,t)).getPropsToConnectComponent=function(){var e=o.context,t=e.getState,n=e.dispatch,a=U(t()),r=L(n);return Object(S.a)(Object(S.a)({},a),r)},o.state=o.getPropsToConnectComponent(),o}return Object(u.a)(a,[{key:"render",value:function(){return console.log(this.context),o.a.createElement(e,Object.assign({},this.state,this.props))}},{key:"componentDidMount",value:function(){var e=this,t=this.context.subscribe;this.unsubscribe=t((function(){console.log("subscribe from connect"),e.setState(e.getPropsToConnectComponent())}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}}]),a}(o.a.Component),t.contextType=F,n})(K);(function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("h1",null,"TestAPp")}}]),n}(o.a.Component)).contextType=J;n(9);function W(){return new Promise((function(e,t){setTimeout((function(){e(100)}),2e3)}))}var B,G=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.counter,a=e.handleAdd,r=e.counterRef;return o.a.createElement("section",{className:"classApp"},o.a.createElement("h1",null,"ClassApp"),t?o.a.createElement("h5",null,"isLoading..."):o.a.createElement("h5",null,"Counter: ",n),o.a.createElement("button",{onClick:a},"Add One"),o.a.createElement("button",{onClick:function(){setTimeout((function(){alert(r.current)}),3e3)}},"aletOne in 3S"))}}]),n}(o.a.Component);B=G,o.a.Component;c.a.render(o.a.createElement(_,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.fe4ac8e6.chunk.js.map